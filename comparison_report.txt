
PACKAGE : endee
v1      : 0.1.9
v2      : 0.1.13
==================================================
ğŸ“„ LINE BY LINE CODE DIFF
==================================================

ğŸ“„ endee/constants.py
     # Default ef_search: size of dynamic candidate list during search
     # Higher values improve recall but slow down queries
     DEFAULT_EF_SEARCH = 128
â•  
â•  # Default prefilter cardinality threshold: if the number of vectors matching the
â•  # filter is below this value, brute-force prefiltering is used instead of HNSW
â•  # filtered search. Valid range is 1,000â€“1,000,000.
â•  DEFAULT_PREFILTER_CARDINALITY_THRESHOLD = 10_000
â•  
â•  # Default filter boost percentage: expands the internal HNSW candidate pool by
â•  # this percentage when a filter is active, compensating for filtered-out results.
â•  # 0 means no boost; valid range is 0â€“100.
â•  DEFAULT_FILTER_BOOST_PERCENTAGE = 0

ğŸ“„ endee/index.py
         CHECKSUM,
         COUNT_FIELD,
         DEFAULT_EF_SEARCH,
â•      DEFAULT_FILTER_BOOST_PERCENTAGE,
â•      DEFAULT_PREFILTER_CARDINALITY_THRESHOLD,
         DEFAULT_TOPK,
         DIMENSION_FIELD,
         IS_HYBRID_FIELD,
             log=False,
             sparse_indices=None,
             sparse_values=None,
â•          prefilter_cardinality_threshold=DEFAULT_PREFILTER_CARDINALITY_THRESHOLD,
â•          filter_boost_percentage=DEFAULT_FILTER_BOOST_PERCENTAGE,
         ):
             """
             Search for similar vectors in the index.
                 log: Currently unused (for future logging support)
                 sparse_indices: Sparse vector indices (for hybrid indexes)
                 sparse_values: Sparse vector values (for hybrid indexes)
â•              prefilter_cardinality_threshold: Cardinality threshold that controls when
â•                  filtering switches from HNSW filtered search to brute-force
â•                  prefiltering on the matched subset.
â•                  - 1_000     â†’ minimum value, prefilter only for very selective filters
â•                  - 10_000    â†’ prefilter only when filter matches â‰¤10k vectors (default)
â•                  - 1_000_000 â†’ maximum value, prefilter for almost all filtered searches
â•                  Range: 1,000â€“1,000,000.
â•              filter_boost_percentage: Expands the internal HNSW candidate pool by this
â•                  percentage when a filter is active, compensating for vectors filtered
â•                  out during traversal. For example, 20 means fetch 20% more candidates
â•                  before applying the filter.
â•                  Range: 0-100 (default: 0, i.e. no boost).
â•  
     
             Returns:
                 list: List of dictionaries containing:
                 ValueError: If parameters are invalid or incompatible with index type
     
             Example:
â–              >>> results = index.query(
â•               >>> results = index.query(
                 ...     vector=[0.1, 0.2, 0.3],
                 ...     top_k=5,
â–              ...     filter={"category": "A"}
â•              ...     filter=[{"category": {"$eq": "A"}}],
â•              ...     prefilter_threshold=5000,
â•              ...     boost_percentage=20,
                 ... )
             """
             # Validate and prepare query using Pydantic
                 include_vectors=include_vectors,
                 sparse_indices=sparse_indices,
                 sparse_values=sparse_values,
â•              prefilter_cardinality_threshold=prefilter_cardinality_threshold,
â•              filter_boost_percentage=filter_boost_percentage,
             )
     
             # Additional index-specific validation
             # Add filter if provided
             if query_params.filter:
                 data["filter"] = orjson.dumps(query_params.filter).decode("utf-8")
â•  
â•          # Sending filter_params so the server uses consistent defaults
â•          data["filter_params"] = {
â•              "prefilter_threshold": query_params.prefilter_cardinality_threshold,
â•              "boost_percentage": query_params.filter_boost_percentage,
â•          }
     
             url = f"{self.url}/index/{self.name}/search"
     

ğŸ“„ endee/schema.py
     
     from .constants import (
         DEFAULT_EF_SEARCH,
â•      DEFAULT_FILTER_BOOST_PERCENTAGE,
â•      DEFAULT_PREFILTER_CARDINALITY_THRESHOLD,
         DEFAULT_TOPK,
         MAX_DIMENSION_ALLOWED,
         MAX_EF_SEARCH_ALLOWED,
         include_vectors: bool = False
         sparse_indices: Optional[List[int]] = None
         sparse_values: Optional[List[float]] = None
â•      prefilter_cardinality_threshold: int = Field(
â•          default=DEFAULT_PREFILTER_CARDINALITY_THRESHOLD, ge=1_000, le=1_000_000
â•      )
â•      filter_boost_percentage: int = Field(
â•          default=DEFAULT_FILTER_BOOST_PERCENTAGE, ge=0, le=100
â•      )
     
         @model_validator(mode="after")
         def validate_query_type(self) -> "QueryRequest":

ğŸ“„ setup.py
     setup(
         # Package Metadata
         name="endee",
â–      version="0.1.9",
â•      version="0.1.13",
         author="Endee Labs",
         author_email="dev@endee.io",
         description=(
==================================================
ğŸ” CHANGED FUNCTION SIGNATURES
==================================================
(NEW = added in v0.1.13 | REMOVED = absent in v0.1.13 compared to v0.1.9)

ğŸ“ endee/index.py
  âœï¸  CHANGED:
      v0.1.9: def query(self, vector, top_k, filter, ef, include_vectors, log, sparse_indices, sparse_values)
      v0.1.13: def query(self, vector, top_k, filter, ef, include_vectors, log, sparse_indices, sparse_values, prefilter_cardinality_threshold, filter_boost_percentage)
==================================================
ğŸ“¦ DEPENDENCIES COMPARISON
==================================================
(Added = new in v0.1.13 | Removed = absent in v0.1.13 compared to v0.1.9)
No dependency changes found.